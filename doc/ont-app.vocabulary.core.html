<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ont-app.vocabulary.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Vocabulary</span> <span class="project-version">0.1.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to vocabulary</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ont-app</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vocabulary</span></div></div></li><li class="depth-3 branch current"><a href="ont-app.vocabulary.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="ont-app.vocabulary.linguistics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>linguistics</span></div></a></li><li class="depth-3 branch"><a href="ont-app.vocabulary.lstr.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lstr</span></div></a></li><li class="depth-3"><a href="ont-app.vocabulary.wikidata.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wikidata</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-clear-caches.21"><div class="inner"><span>clear-caches!</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-all-ns"><div class="inner"><span>cljc-all-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-error"><div class="inner"><span>cljc-error</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-find-ns"><div class="inner"><span>cljc-find-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-find-prefixes"><div class="inner"><span>cljc-find-prefixes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-get-ns-meta"><div class="inner"><span>cljc-get-ns-meta</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-ns-aliases"><div class="inner"><span>cljc-ns-aliases</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-cljc-put-ns-meta.21"><div class="inner"><span>cljc-put-ns-meta!</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-collect-prefixes"><div class="inner"><span>collect-prefixes</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-decode-uri-string"><div class="inner"><span>decode-uri-string</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-encode-uri-string"><div class="inner"><span>encode-uri-string</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-get-ns-meta"><div class="inner"><span>get-ns-meta</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-invalid-qname-name"><div class="inner"><span>invalid-qname-name</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-iri-for"><div class="inner"><span>iri-for</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-keyword-for"><div class="inner"><span>keyword-for</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-namespace-re"><div class="inner"><span>namespace-re</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-namespace-to-ns"><div class="inner"><span>namespace-to-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-namespace-to-ns-cache"><div class="inner"><span>namespace-to-ns-cache</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-ns-to-namespace"><div class="inner"><span>ns-to-namespace</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-ns-to-prefix"><div class="inner"><span>ns-to-prefix</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prefix-re-str"><div class="inner"><span>prefix-re-str</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prefix-re-str-cache"><div class="inner"><span>prefix-re-str-cache</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prefix-to-namespace-uri"><div class="inner"><span>prefix-to-namespace-uri</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prefix-to-ns"><div class="inner"><span>prefix-to-ns</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prefix-to-ns-cache"><div class="inner"><span>prefix-to-ns-cache</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-prepend-prefix-declarations"><div class="inner"><span>prepend-prefix-declarations</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-put-ns-meta.21"><div class="inner"><span>put-ns-meta!</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-qname-for"><div class="inner"><span>qname-for</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-sparql-prefixes-for"><div class="inner"><span>sparql-prefixes-for</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-terms"><div class="inner"><span>terms</span></div></a></li><li class="depth-1"><a href="ont-app.vocabulary.core.html#var-uri-for"><div class="inner"><span>uri-for</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ont-app.vocabulary.core</h1><div class="doc"><pre class="plaintext">Defines utilities and a set of namespaces for commonly used linked data 
constructs, metadata of which specifies RDF namespaces, prefixes and other 
details.</pre></div><div class="public anchor" id="var-clear-caches.21"><h3>clear-caches!</h3><div class="usage"><code>(clear-caches!)</code></div><div class="doc"><pre class="plaintext">Side-effects: resets all caches in voc/ to nil
NOTE: call this when you may have imported new namespace metadata</pre></div></div><div class="public anchor" id="var-cljc-all-ns"><h3>cljc-all-ns</h3><div class="usage"><code>(cljc-all-ns)</code></div><div class="doc"><pre class="plaintext">Returns (&lt;ns name or obj&gt; ...)
Where
&lt;ns name or obj&gt; may either be a namespace (in clj) 
  or the name of a namespace (in cljs)</pre></div></div><div class="public anchor" id="var-cljc-error"><h3>cljc-error</h3><div class="usage"><code>(cljc-error msg)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-cljc-find-ns"><h3>cljc-find-ns</h3><div class="usage"><code>(cljc-find-ns _ns)</code></div><div class="doc"><pre class="plaintext">Returns &lt;ns name or obj&gt; for &lt;_ns&gt;, or nil.
Where 
&lt;ns name or obj&gt; may either be a namespace (in clj) 
  or the name of a namespace (in cljs)
&lt;_ns&gt; is a symbol which may name a namespace.
NOTE: Implementations involving cljs must use cljs-put/get-ns-meta to declare
  ns metadata.</pre></div></div><div class="public anchor" id="var-cljc-find-prefixes"><h3>cljc-find-prefixes</h3><div class="usage"><code>(cljc-find-prefixes re-str s)</code></div><div class="doc"><pre class="plaintext">Returns #{&lt;prefix&gt;...} for `s`
Where
&lt;prefix&gt; is a prefix found in &lt;s&gt;, for which some (meta ns) has a 
  :vann/preferredNamespacePrefix declaration
&lt;s&gt; is a string, typically a SPARQL query body for which we want to 
  infer prefix declarations.</pre></div></div><div class="public anchor" id="var-cljc-get-ns-meta"><h3>cljc-get-ns-meta</h3><div class="usage"><code>(cljc-get-ns-meta _ns)</code><code>(cljc-get-ns-meta)</code></div><div class="doc"><pre class="plaintext">Returns &lt;metadata&gt; assigned to ns named `_ns`
Where
&lt;_ns&gt; names a namespace or a 'dummy' namespace whose sole purpose is to hold metadata.
&lt;metadata&gt; := {&lt;key&gt; &lt;value&gt;, ...}
&lt;key&gt; is a keyword containing vocabulary metadata, e.g. :vann/preferredNamespacePrefix
</pre></div></div><div class="public anchor" id="var-cljc-ns-aliases"><h3>cljc-ns-aliases</h3><div class="usage"><code>(cljc-ns-aliases)</code></div><div class="doc"><pre class="plaintext">Returns {&lt;alias&gt; &lt;ns&gt;, ...}
Where
&lt;alias&gt; is a symbol
&lt;ns&gt; is its associated ns in the current lexical environment.
NOTE: cljs will require explicit maintenance of *alias-map*
This is really only necessary if you're importing a package
as some symbol other than the preferred prefix.</pre></div></div><div class="public anchor" id="var-cljc-put-ns-meta.21"><h3>cljc-put-ns-meta!</h3><div class="usage"><code>(cljc-put-ns-meta! _ns m)</code><code>(cljc-put-ns-meta! m)</code></div><div class="doc"><pre class="plaintext">Side-effect: ensures that subsequent calls to (cljc-get-ns-meta `_ns` return `m`
Where
&lt;_ns&gt; is an ns(clj only) or the name of a namespace, possibly declared for the sole purpose of holding vocabulary metadata (e.g. rdf, foaf, etc)
&lt;m&gt; := {&lt;key&gt; &lt;value&gt;, ...}, metadata (clj) or 'pseudo-metadata' (cljs)
&lt;key&gt; is a keyword containing vocabulary metadata, e.g. ::vann/preferredNamespacePrefix
NOTE: In cljs, ns's are not available at runtime, so the metadata is stored
  in an atom called 'voc/cljs-ns-metadata'
See also declarations for ont-app.vocabulary.rdf, ont-app.vocabulary.foaf, etc.
for examples of namespaces declared solely to hold vocabulary metadata.
</pre></div></div><div class="public anchor" id="var-collect-prefixes"><h3>collect-prefixes</h3><div class="usage"><code>(collect-prefixes acc next-ns)</code></div><div class="doc"><pre class="plaintext">Returns {&lt;prefix&gt; &lt;namespace&gt; ...} s.t. &lt;next-ns&gt; is included
Where
&lt;prefix&gt; is a prefix declared in the metadata of &lt;next-ns&gt;
&lt;namespace&gt; is a URI namespace declared for &lt;prefix&gt; in metadata of &lt;next-ns&gt;
&lt;next-ns&gt; is typically an element in a reduction sequence of ns's </pre></div></div><div class="public anchor" id="var-decode-uri-string"><h3>decode-uri-string</h3><div class="usage"><code>(decode-uri-string s)</code></div><div class="doc"><pre class="plaintext">Inverse of encdoe-uri-string. Returns the original value of `s` 
Where &lt;s&gt; was generated by (encode-uri-string s)</pre></div></div><div class="public anchor" id="var-encode-uri-string"><h3>encode-uri-string</h3><div class="usage"><code>(encode-uri-string s)</code></div><div class="doc"><pre class="plaintext">Returns a version if `s` suitable for entry as keyword name
Where &lt;s&gt; is a URI string, typically about to be interned as a keyword.</pre></div></div><div class="public anchor" id="var-get-ns-meta"><h3>get-ns-meta</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alias for `cljc-get-ns-meta`
</pre></div></div><div class="public anchor" id="var-invalid-qname-name"><h3>invalid-qname-name</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-iri-for"><h3>iri-for</h3><div class="usage"><code>(iri-for kw)</code></div><div class="doc"><pre class="plaintext">Returns &lt;iri&gt;  for `kw` based on metadata attached to &lt;ns&gt;
Where
&lt;iri&gt; is of the form &lt;namespace&gt;&lt;value&gt;
&lt;kw&gt; is a keyword of the form &lt;prefix&gt;:&lt;value&gt;
&lt;ns&gt; is an instance of clojure.lang.ns
&lt;prefix&gt; is declared with :vann/preferredNamespacePrefix in metadata of &lt;ns&gt;
&lt;namespace&gt; is typically of the form http://...., declared with 
  :vann/preferredNamespaceUri in metadata of &lt;ns&gt;</pre></div></div><div class="public anchor" id="var-keyword-for"><h3>keyword-for</h3><div class="usage"><code>(keyword-for uri)</code><code>(keyword-for on-no-ns uri)</code></div><div class="doc"><pre class="plaintext">Returns a keyword equivalent of &lt;uri&gt;, properly prefixed if LOD declarations
exist in some ns in the current lexical environment.
Side effects per `on-no-ns` Where &lt;uri&gt; is a string representing
a URI &lt;on-no-ns&gt; (optional) := fn [uri kw] -&gt; kwi', possibly with
side-effects in response to the fact that no qname was found for
&lt;uri&gt; (default returns &lt;kw&gt;)
NOTE: typically &lt;on-no-ns&gt; would log a warning or make an assertion.</pre></div></div><div class="public anchor" id="var-namespace-re"><h3>namespace-re</h3><div class="usage"><code>(namespace-re)</code></div><div class="doc"><pre class="plaintext">Returns a regex to recognize substrings matching a URI for an ns 
declared with LOD metadata. Groups for namespace and value.</pre></div></div><div class="public anchor" id="var-namespace-to-ns"><h3>namespace-to-ns</h3><div class="usage"><code>(namespace-to-ns)</code></div><div class="doc"><pre class="plaintext">returns {&lt;namespace&gt; &lt;ns&gt; ...} for each ns with :vann/preferredNamespaceUri
declaration</pre></div></div><div class="public anchor" id="var-namespace-to-ns-cache"><h3>namespace-to-ns-cache</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-ns-to-namespace"><h3>ns-to-namespace</h3><div class="usage"><code>(ns-to-namespace _ns)</code></div><div class="doc"><pre class="plaintext">Returns &lt;iri&gt; for &lt;ns&gt;
Where
&lt;iri&gt; is an iri declared with :vann/preferredNamespaceUri in the metadata for 
  &lt;ns&gt;, or nil
&lt;ns&gt; is an instance of clojure.lang.Namespace</pre></div></div><div class="public anchor" id="var-ns-to-prefix"><h3>ns-to-prefix</h3><div class="usage"><code>(ns-to-prefix _ns)</code></div><div class="doc"><pre class="plaintext">Returns the prefix associated with `_ns`
Where
&lt;_ns&gt; is a clojure namespace, which may have :vann/preferredNamespacePrefix
  declaration in its metadata.   </pre></div></div><div class="public anchor" id="var-prefix-re-str"><h3>prefix-re-str</h3><div class="usage"><code>(prefix-re-str)</code></div><div class="doc"><pre class="plaintext">Returns a regex string that recognizes prefixes declared in ns metadata with 
  :vann/preferredNamespacePrefix keys. 
NOTE: this is a string because the actual re-pattern will differ per clj/cljs.</pre></div></div><div class="public anchor" id="var-prefix-re-str-cache"><h3>prefix-re-str-cache</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prefix-to-namespace-uri"><h3>prefix-to-namespace-uri</h3><div class="usage"><code>(prefix-to-namespace-uri prefix)</code></div><div class="doc"><pre class="plaintext">returns `namespace` URI associated with `prefix`
Where:
&lt;namespace&gt; is a string declared for some &lt;ns&gt; with vann/preferredNamespaceUri
&lt;prefix&gt; is a string declared for &lt;ns&gt; with vann/preferredNamespacePrefix
</pre></div></div><div class="public anchor" id="var-prefix-to-ns"><h3>prefix-to-ns</h3><div class="usage"><code>(prefix-to-ns)</code></div><div class="doc"><pre class="plaintext">Returns {&lt;prefix&gt; &lt;ns&gt; ...}
Where 
&lt;prefix&gt; is declared in metadata for some &lt;ns&gt; with 
  :vann/preferredNamespacePrefix 
&lt;ns&gt; is an instance of clojure.lang.ns available within the lexical 
  context in which the  call was made.</pre></div></div><div class="public anchor" id="var-prefix-to-ns-cache"><h3>prefix-to-ns-cache</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-prepend-prefix-declarations"><h3>prepend-prefix-declarations</h3><div class="usage"><code>(prepend-prefix-declarations sparql-string)</code></div><div class="doc"><pre class="plaintext">Returns &lt;sparql-string&gt;, prepended with appropriate PREFIX decls.
</pre></div></div><div class="public anchor" id="var-put-ns-meta.21"><h3>put-ns-meta!</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alias for `cljc-put-ns-meta!`
</pre></div></div><div class="public anchor" id="var-qname-for"><h3>qname-for</h3><div class="usage"><code>(qname-for kw)</code></div><div class="doc"><pre class="plaintext">Returns the 'qname' URI for `kw`, or &lt;...&gt;'d full URI if no valid qname
  could be found. Throws an error if the prefix is specified, but can't be
  mapped to metadata.
Where
  &lt;kw&gt; is a keyword, in a namespace with LOD declarations in its metadata.</pre></div></div><div class="public anchor" id="var-sparql-prefixes-for"><h3>sparql-prefixes-for</h3><div class="usage"><code>(sparql-prefixes-for sparql-string)</code></div><div class="doc"><pre class="plaintext">Returns [&lt;prefix-string&gt;...] for each prefix identified in &lt;sparql-string&gt;
Where
&lt;prefix-string&gt; := PREFIX &lt;prefix&gt;: &lt;namespace&gt;

&lt;prefix&gt; is a prefix defined for &lt;namespace&gt; in metadata of some ns with 
  :vann/preferredNamespacePrefix
&lt;namespace&gt; is a namespace defined in the metadata for some ns with 
  :vann/preferredNamespaceUri</pre></div></div><div class="public anchor" id="var-terms"><h3>terms</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Describes T-box for this namespace.
</pre></div></div><div class="public anchor" id="var-uri-for"><h3>uri-for</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alias of iri-for
</pre></div></div></div></body></html>